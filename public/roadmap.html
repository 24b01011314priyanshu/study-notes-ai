<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Roadmap â€” StudyNotes AI</title><link rel="stylesheet" href="styles.css"></head><body>
<div class="container">
  <div class="header"><div class="logo">StudyNotes AI</div><div class="nav"><a href="index.html">Home</a></div></div>
  <div class="card">
    <h2>Roadmap</h2>
    <div class="small">Enter a topic to regenerate roadmap or use last generated</div>
    <div class="input-row">
      <input id="roadmap-topic" type="text" placeholder="Enter topic (e.g., Algorithms)">
      <button id="roadmap-gen" class="btn">Generate Roadmap</button>
      <button id="roadmap-reset" class="btn" style="background:#dc2626">Reset Progress</button>
    </div>
    <div id="roadmap-progress-wrap" style="margin-top:8px">
      <div class="small">Completed 0 / 0 (0%)</div>
      <div class="progress" style="margin-top:6px"><i style="width:0%"></i></div>
    </div>
    <div id="roadmap-output" style="margin-top:12px"></div>
  </div>
  <div class="footer">Tip: Expand each topic to check subtopics. Progress saves automatically.</div>
</div>
<script src="ai.js"></script>
<script>
async function loadLastOrDefault() {
  const last = localStorage.getItem('lastGeneratedRoadmap');
  if(last) {
    const {topic, roadmap} = JSON.parse(last);
    document.getElementById('roadmap-topic').value = topic;
    renderRoadmap(topic, roadmap);
  }
}
document.getElementById('roadmap-gen').addEventListener('click', async ()=>{
  const topic = document.getElementById('roadmap-topic').value.trim();
  if(!topic){ alert('Enter a topic'); return; }
  const data = await generateAndRender('roadmap', topic, { mock:false });
  if(data && data.roadmap) {
    localStorage.setItem('lastGeneratedRoadmap', JSON.stringify({topic, roadmap:data.roadmap}));
    renderRoadmap(topic, data.roadmap);
  } else {
    alert('Could not generate roadmap');
  }
});
document.getElementById('roadmap-reset').addEventListener('click', ()=>{
  const topic = document.getElementById('roadmap-topic').value.trim();
  if(!topic){ alert('Enter topic to reset'); return; }
  const key = topic.toLowerCase().replace(/\s+/g,'-');
  localStorage.removeItem(`roadmap-progress-${key}`);
  alert('Progress reset');
  loadLastOrDefault();
});
loadLastOrDefault();
</script>
</body></html>

